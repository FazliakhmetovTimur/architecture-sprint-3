Это шаблон для решения **первой части** проектной работы. Структура этого файла повторяет структуру заданий. Заполняйте его по мере работы над решением.

# Задание 1. Анализ и планирование

Чтобы составить документ с описанием текущей архитектуры приложения, можно часть информации взять из описания компании условия задания. Это нормально.

### 1. Описание функциональности монолитного приложения

**Управление отоплением:**

- Пользователи могут включать, отключать отопление; устанавливать температуру; просматривать текущую установленную температуру.
- Система поддерживает доступ через веб интерфейс и сохранение текущего состояния устройства отопления в БД

**Мониторинг температуры:**

- Пользователи могут просматривать текущую температуру и историю изменения температуры
- Система поддерживае доступ через веб интерфейс и сохранение текущего состояния устройства отопления в БД

### 2. Анализ архитектуры монолитного приложения

#### Язык программирования

Java

#### База данных

PostgreSQL.
Доступ к БД из приложения выполняется с помощью Hibernate.
Логин и пароль очень простые: your_username и your_password. Это несет большой риск безопаности.
Не увидел, что БД скрыта в приватной подсети. Кажется, что в ней можно обратиться из Интернета.

#### Архитектура

Монолитная.
Все компоненты системы (обработка запросов, бизнес-логика, работа с данными) находятся в рамках одного приложения.
Одна БД для всего приложения.

#### Взаимодействие

Синхронное, запросы обрабатываются последовательно.
Доступ к веб-интерфейсу выполняется через HTTPS.
Взаимодейстие с датчиками по REST API.

#### Масштабируемость

Ограничена, так как монолит сложно масштабировать по частям.
Возможно автоматическое создание до 100 экземпляров в кластере Kubernates. По дефолту разворачивается 1.

#### Развёртывание

Выполяется с помощью Helm чартов и Kubernates.
Для переразвертывания требуется остановки всего приложения.

### 3. Определение доменов и границы контекстов

#### Управление системой отопления

Подсистема позволяет получить текущую установленную температуру отопления и установить новую, а ьакже включить и выключить отопление.

#### Мониторинг температуры с датчика

Подсистема позволяет получить текущую температуру с дачтика, сохраняет история изменения температуры.

### 4. Проблемы монолитного решения

- Для внесения изменений необходимо остановить и перезапустить все приложение.
- Для поддержки приложения нужны только Java девелоперы. Нет возможности диверсифицировать ресурсные и технологические риски.
- Синхронной взаимодействие несет большой риск отказа обслуживания. Есть будет хотя бы небольшая перегрузка приложения, БД или локальной сети в приложением и БД, то время отклика системы превысит таймаут HTTP запроса, и пользователь не сможет ни получить текущую температуру с датчика, ни включить или выключить прибор.
- Есть автомасштабирование приложения. Это полезно, но требует больших аппаратных ресурсов.
- Нет мастшабирования БД. Ни реплик, ни шардов. Следовательно, БД является единой точкой отказа.
- Не увидел, что БД скрыта в приватной подсети. Кажется, что к ней можно обратиться из Интернета.
- Логин и пароль к БД очень простые: your_username и your_password. Это несет большой риск безопаности. Либо они есть в Spring, но я не нашел. Не знаю, как работает Spring.

### 5. Визуализация контекста системы — диаграмма С4

[Диаграмма контекста приложения](/diagrams/asis/context.puml)

# Задание 2. Проектирование микросервисной архитектуры

В этом задании вам нужно предоставить только диаграммы в модели C4. Мы не просим вас отдельно описывать получившиеся микросервисы и то, как вы определили взаимодействия между компонентами To-Be системы. Если вы правильно подготовите диаграммы C4, они и так это покажут.

**Диаграмма контейнеров (Containers)**

[Умный дом](/diagrams/tobe/container/container.puml)

**Диаграмма компонентов (Components)**

[Управление устройствами](/diagrams/tobe/components/deviceControl.puml)

[Управление отоплением](/diagrams/tobe/components/heatingControl.puml)

[Управление освещением](/diagrams/tobe/components/lightControl.puml)

[Управление воротами](/diagrams/tobe/components/gateControl.puml)

[Управление видеонаблюдением](/diagrams/tobe/components/heatingControl.puml)

[Управление командами и запросами на устройства](/diagrams/tobe/components/comandsControl.puml)

**Диаграмма кода (Code)**

[Классы управления воротами](/diagrams/tobe/code/gateControlClasses.puml)
[Последовательность управления воротами](/diagrams/tobe/code/gateControlSequence.puml)

# Задание 3. Разработка ER-диаграммы

[Сущности](/diagrams/tobe/er/entities.puml)
